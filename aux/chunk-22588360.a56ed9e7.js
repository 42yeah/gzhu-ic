(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22588360"],{"036a":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("el-pagination",{attrs:{"current-page":e.data.page,"page-sizes":e.pageSizeOptions,"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.pageCount,"hide-on-single-page":e.hideOnSinglePage},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})},r=[],i=(a("c5f6"),{data:function(){return this.pageSizeOptions=[10,30,50,100],{data:{pageNum:10,page:1}}},props:{pageCount:Number,hideOnSinglePage:Boolean},methods:{handleSizeChange:function(e){this.data.pageNum=e,this.data.page=1,this.$emit("haha",this.data)},handleCurrentChange:function(e){this.data.page=e,this.$emit("haha",this.data)}}}),o=i,c=(a("a256"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"dc8061ba",null);t["a"]=u.exports},"06c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("6b75");function r(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(e,t):void 0}}},1231:function(e,t,a){},2662:function(e,t,a){},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("6b75");function r(e){if(Array.isArray(e))return Object(n["a"])(e)}function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=a("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return r(e)||i(e)||Object(o["a"])(e)||c()}},"386d":function(e,t,a){"use strict";var n=a("cb7c"),r=a("83a1"),i=a("5f1b");a("214f")("search",1,(function(e,t,a,o){return[function(a){var n=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=o(a,e,this);if(t.done)return t.value;var c=n(e),u=String(this),l=c.lastIndex;r(l,0)||(c.lastIndex=0);var s=i(c,u);return r(c.lastIndex,l)||(c.lastIndex=l),null===s?-1:s.index}]}))},"46c3":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,"append-to-body":"","close-on-click-modal":!1,"modal-append-to-body":"",visible:e.visible},on:{"update:visible":function(t){e.visible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("关 闭")])]},proxy:!0}])},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"content"},[t("ExpandTable",{attrs:{tableData:e.filterData},scopedSlots:e._u([{key:"column",fn:function(){return[t("el-table-column",{attrs:{label:e.isShowCampus?"校区":"楼层",prop:"name"}}),t("el-table-column",{attrs:{label:"总数",prop:"total"}}),t("el-table-column",{attrs:{label:"已拿到数",prop:"gettedTotal"}})]},proxy:!0}])})],1)])},r=[],i=a("ade3"),o=(a("7514"),a("6762"),a("2909")),c=(a("ac6a"),function(){var e=this,t=e._self._c;return t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[n.children&&Array.isArray(n.children)?[n.children&&Array.isArray(n.children)?t("ExpandTable",{attrs:{tableData:n.children},scopedSlots:e._u([{key:"column",fn:function(){return[t("el-table-column",{attrs:{"render-header":e.onRenderHeader(n),prop:"name"}}),t("el-table-column",{attrs:{label:"总数",prop:"total"}}),t("el-table-column",{attrs:{label:"已拿到数",prop:"gettedTotal"}})]},proxy:!0}],null,!0)}):e._e()]:t("div",[t("el-form",{staticClass:"table-expand",attrs:{"label-position":"left"}},e._l(n.kindList,(function(a){return t("el-form-item",{key:a.kindId},[t("el-form-item",{attrs:{label:"类型："}},[t("span",[e._v(e._s("".concat(a.kindName,"（").concat(a.gettedTotal," / ").concat(a.total,"）")))])]),t("el-form-item",[a.deviceList.length>0?t("div",{staticClass:"dvc-container"},e._l(a.deviceList,(function(a){return t("el-descriptions",{key:a.devId},[t("el-descriptions-item",{attrs:{label:"设备编号"}},[e._v(e._s(a.devSn||""))]),t("el-descriptions-item",{attrs:{label:"设备名称"}},[e._v(e._s(a.devName||""))])],1)})),1):t("div",{staticStyle:{"padding-left":"80px"}},[e._v("无设备")])])],1)})),1)],1)]}}])}),e._t("column")],2)}),u=[],l={name:"ExpandTable",props:{tableData:Array},data:function(){return this.labelObj={labName:"楼层",roomName:"领取点"},{}},created:function(){},methods:{onRenderHeader:function(e){var t=this;return function(a,n){n.column,n.$index;var r=e.labName;e.roomName;return a("span",{},r?t.labelObj["roomName"]:t.labelObj["labName"])}}}},s=l,d=(a("eafb"),a("2877")),f=Object(d["a"])(s,c,u,!1,null,"4bf97685",null),m=f.exports,p={name:"DeviceDialog",components:{ExpandTable:m},props:{title:{type:String,default:"默认标题"},isVisible:Boolean,isLoading:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}}},data:function(){return this.prefixObj={campus:"lab",lab:"room",room:"kind",kind:"dev"},{visible:!1,campusArray:[]}},model:{prop:"isVisible",event:"changeVisible"},computed:{isShowCampus:function(){return this.campusArray.length>1},filterData:function(){return this.isShowCampus?this.campusArray:this.campusArray.length>0?this.campusArray[0].children:[]}},watch:{isVisible:{handler:function(e){e!=this.visible&&(this.visible=e)},immediate:!0},visible:{handler:function(e){e!=this.isVisible&&this.$emit("changeVisible",e)},immediate:!0},data:function(e){this.campusArray=[],this.campusArray=this.getFormat(this.data,"campus",(function(e,t){return e.campusName===t})),this.formatData(this.campusArray,this.data,"campus")}},created:function(){},methods:{formatData1:function(e,t,a){var n=this;if(!e||!Array.isArray(e)||e.length<=0)return[];if(this.prefixObj[a]){var r="".concat(a,"Name"),i="".concat(this.prefixObj[a],"Name"),c="dev"!=a,u="room"!=a&&"dev"!=a?"children":"deviceList";e.forEach((function(e){var l,s=n.getFormat(t.filter((function(t){return t[r]==e[r]})),n.prefixObj[a],(function(e,t){return e[i]==t}),c,u);c&&s.forEach((function(o){var c=t.filter((function(t){return t[r]==e[r]&&t[i]==o[i]}));n.formatData(s,c,n.prefixObj[a])})),e.children&&(l=e.children).push.apply(l,Object(o["a"])(s))}))}},formatData:function(e,t,a){var n=this;if(!e||!Array.isArray(e)||e.length<=0)return[];if(this.prefixObj[a]){var r="".concat(a,"Name"),i="".concat(this.prefixObj[a],"Name"),c="kind"!=a,u="";u="lab"==a?"kindList":"room"==a?"deviceList":"kind"==a?"":"children",e.forEach((function(e){var l,s=n.getFormat(t.filter((function(t){return t[r]==e[r]})),n.prefixObj[a],(function(e,t){return e[i]==t}),c,u);if(c&&s.forEach((function(o){var c=t.filter((function(t){return t[r]==e[r]&&t[i]==o[i]}));n.formatData(s,c,n.prefixObj[a])})),e.children&&Array.isArray(e.children))(l=e.children).push.apply(l,Object(o["a"])(s));else if(e.kindList&&Array.isArray(e.kindList)){var d;(d=e.kindList).push.apply(d,Object(o["a"])(s))}else{var f;(f=e.deviceList).push.apply(f,Object(o["a"])(s))}}))}},getFormat:function(e,t,a){var n=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"children";if(!e||!Array.isArray(e))return[];var c=[],u="".concat(t,"Name"),l=[];return"dev"==t&&(u="".concat(t,"Sn")),e.forEach((function(e){!l.includes(e[u])&&l.push(e[u])})),l.forEach((function(l){if(l){var s=null;if("dev"==t){var d=e.find((function(e){return e.devSn===l}));s={devName:d.devName,devId:d.devId,devSn:d.devSn}}else{var f;f={},Object(i["a"])(f,u,l),Object(i["a"])(f,"name",l),Object(i["a"])(f,"total",e.reduce((function(e,t){return a(t,l)?e+=1:e}),0)),Object(i["a"])(f,"gettedTotal",e.reduce((function(e,t){return a(t,l)&&t.devSn?e+=1:e}),0)),s=f}r&&n.$set(s,o,[]),c.push(s)}})),c},getFormatOptions1:function(e){if(!e||!Array.isArray(e))return[];var t=[],a=[];return e.forEach((function(e){!a.includes(e.campusName)&&a.push(e.campusName)})),a.forEach((function(a){var n={name:a,total:e.reduce((function(e,t){return t.campusName===a?e+=1:e}),0),gettedTotal:e.reduce((function(e,t){return t.campusName===a&&t.devSn?e+=1:e}),0),children:[]},r=e.filter((function(e){return e.campusName==a})),i=[];r.forEach((function(e){!i.includes(e.labName)&&i.push(e.labName)})),i.forEach((function(t){var r={name:t,total:e.reduce((function(e,n){return n.campusName===a&&n.labName===t?e+=1:e}),0),gettedTotal:e.reduce((function(e,n){return n.campusName===a&&n.labName===t&&n.devSn?e+=1:e}),0),children:[]},i=e.filter((function(e){return e.campusName==a&&e.labName==t})),o=[];i.forEach((function(e){!o.includes(e.roomName)&&o.push(e.roomName)})),o.forEach((function(n){var i={name:n,total:e.reduce((function(e,r){return r.campusName===a&&r.labName===t&&r.roomName===n?e+=1:e}),0),gettedTotal:e.reduce((function(e,r){return r.campusName===a&&r.labName===t&&r.roomName===n&&r.devSn?e+=1:e}),0),children:[]},o=e.filter((function(e){return e.campusName==a&&e.labName==t&&e.roomName==n})),c=[];o.forEach((function(e){!c.includes(e.kindName)&&c.push(e.kindName)})),c.forEach((function(r){var o={name:r,total:e.reduce((function(e,i){return i.campusName===a&&i.labName===t&&i.roomName===n&&i.kindName===r?e+=1:e}),0),gettedTotal:e.reduce((function(e,i){return i.campusName===a&&i.labName===t&&i.roomName===n&&i.kindName===r&&i.devSn?e+=1:e}),0),children:[]},c=e.filter((function(e){return e.campusName==a&&e.labName==t&&e.roomName==n&&e.kindName===r}));c.forEach((function(e){e.devName&&o.children.push({devId:e.devId,devName:e.devName,devSn:e.devSn})})),i.children.push(o)})),r.children.push(i)})),n.children.push(r)})),t.push(n)})),t}}},h=p,b=(a("a031"),Object(d["a"])(h,n,r,!1,null,"9b161568",null));t["a"]=b.exports},"6b75":function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},a031:function(e,t,a){"use strict";a("a916")},a256:function(e,t,a){"use strict";a("2662")},a916:function(e,t,a){},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),o=a("fdef"),c="["+o+"]",u="​",l=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),d=function(e,t,a){var r={},c=i((function(){return!!o[e]()||u[e]()!=u})),l=r[e]=c?t(f):o[e];a&&(r[a]=l),n(n.P+n.F*c,"String",r)},f=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(s,"")),e};e.exports=d},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),o=a("5dbc"),c=a("6a99"),u=a("79e5"),l=a("9093").f,s=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,m="Number",p=n[m],h=p,b=p.prototype,v=i(a("2aeb")(b))==m,N="trim"in String.prototype,g=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=N?t.trim():f(t,3);var a,n,r,i=t.charCodeAt(0);if(43===i||45===i){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,u=t.slice(2),l=0,s=u.length;l<s;l++)if(o=u.charCodeAt(l),o<48||o>r)return NaN;return parseInt(u,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(v?u((function(){b.valueOf.call(a)})):i(a)!=m)?o(new h(g(t)),a,p):g(t)};for(var y,A=a("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;A.length>S;S++)r(h,y=A[S])&&!r(p,y)&&d(p,y,s(h,y));p.prototype=b,b.constructor=p,a("2aba")(n,m,p)}},eafb:function(e,t,a){"use strict";a("1231")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);